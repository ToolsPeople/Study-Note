# 局部内部类

1. 可以直接访问外部类的所有成员，包含私有的。

2. 不能添加访问修饰符，因为它的地位就是一个局部变量。局部变量是不能使用修饰符的。但是可以使用final修饰，因为局部变量也可以使用final修饰。用final后，该内部类就无法被继承了。

3. 作用域：仅仅在定义它的方法或代码块中。

4. 局部类部内可以直接访问外部类的成员。

5. 外部类访问内部类成员需要创建对象再访问。

   ```java
   class A {
       public static void main(String[] args) {
           B b = new B();
           b.b1();
       }
   
   
   }
   
   class B{
   
       private int n1 = 10;
   
       private void b2(){
           System.out.println("b2被调用");
       }
   
   
       public void b1(){
           class C{
               int n2 = 20;
               int n1 = 30;
               public void c1(){
                   System.out.println("n2="+n2);
                   System.out.println("n1="+B.this.n1);
                   b2();
               }
           }
   
           C c = new C();
           c.c1();
       }
   
   }
   ```

6. 在外部类中不能创建内部类的实例。

7. 创建内部类的实例只能在包含它的方法中。

8. 内部类访问包含他的方法中的变量必须有final修饰。

   原因：因为生命周期的原因。方法中的局部变量，方法结束后这个变量就要释放掉，final保证这个变量始终指向一个对象。首先，内		   部类和外部类其实是处于同一个级别，内部类不会因为定义在方法中就会随着方法的执行完毕而跟随者被销毁。问题就来了，		   如果外部类的方法中的变量不定义final，那么当外部类方法执行完毕的时候，这个局部变量肯定也就被GC了，然而内部类的		   某个方法还没有执行完，这个时候他所引用的外部变量已经找不到了。如果定义为final，java会将这个变量复制一份作为成员	       变量内置于内部类中，这样的话，由于final所修饰的值始终无法改变，所以这个变量所指向的内存区域就不会变。为了解决局		   部变量的生命周期与局部内部类的对象的生命周期的不一致性问题。编程时，在线程中使用局部变量时候经常编译器会提示：		   局部变量必须声明为final。

9. 如果外部类和局部内部类的成员重名时，默认遵循就近原则，如果想访问外部类的成员，则可以使用(外部类名.this.成员)去访问。

   

   